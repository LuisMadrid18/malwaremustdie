## A bug fix for implementation of acr make in Linux

Short bug summay: `$CXX` components outbound of `ifeq FreeBSD` in `src/Makefile`

Tested r2 [base version snapshot](https://github.com/unixfreaxjp/radare2):

```asm
$ r2 -v
radare2 5.0.0 25284 @ freebsd-x86-64 git.
commit: e9494756b4915ad40c514979d08082510801ac8e build: 2020-12-22__18:37:37
```

Tested r2ghidra [base version snapshot](https://github.com/unixfreaxjp/r2ghidra)

```asm
635aaa2379325ec76fcd77c5d222f0f18c6a08d6
branch 'master' of https://github.com/radareorg/r2ghidra
```

Problem:
- `src/Makefile has` `$CXX` components outbound of `ifeq FreeBSD` that affects Linux `g++` build command environements, in example: 

   `CXX=clang++` outside of `($(shell uname),FreeBSD`) in [this](https://github.com/radareorg/r2ghidra/blob/master/src/Makefile#L27) code.

   `$(CXX)` and `$CXXFLAGS` used in [this](https://github.com/radareorg/r2ghidra/blob/master/src/Makefile#L64) and [this](https://github.com/radareorg/r2ghidra/blob/master/src/Makefile#L67) and [this](https://github.com/radareorg/r2ghidra/blob/master/src/Makefile#L69) and [this](https://github.com/radareorg/r2ghidra/blob/master/src/Makefile#L73) lines.


Solution:
- all `$CXX**` to be inbound of `ifeq ($(shell uname),FreeBSD)` to avoid `clang++` used.

Current error in build:

```asm
$ r2pm install r2ghidra
Cloning into 'r2ghidra'...
remote: Enumerating objects: 97, done.
remote: Counting objects: 100% (97/97), done.
remote: Compressing objects: 100% (93/93), done.
remote: Total 97 (delta 1), reused 61 (delta 1), pack-reused 0
Unpacking objects: 100% (97/97), done.
Submodule 'ghidra/ghidra' (https://github.com/thestr4ng3r/ghidra.git) registered for path 'ghidra/ghidra'
Submodule 'third-party/pugixml' (https://github.com/zeux/pugixml.git) registered for path 'third-party/pugixml'
Cloning into '/home/xxxx/.local/share/radare2/r2pm/git/r2ghidra/ghidra/ghidra'...
remote: Enumerating objects: 9, done.
remote: Counting objects: 100% (9/9), done.
remote: Compressing objects: 100% (9/9), done.
remote: Total 70874 (delta 0), reused 0 (delta 0), pack-reused 70865
Receiving objects: 100% (70874/70874), 111.15 MiB | 23.59 MiB/s, done.
Resolving deltas: 100% (42582/42582), done.
Cloning into '/home/xxxx/.local/share/radare2/r2pm/git/r2ghidra/third-party/pugixml'...
remote: Enumerating objects: 15, done.
remote: Counting objects: 100% (15/15), done.
remote: Compressing objects: 100% (12/12), done.
remote: Total 8848 (delta 8), reused 7 (delta 3), pack-reused 8833
Receiving objects: 100% (8848/8848), 6.20 MiB | 8.28 MiB/s, done.
Resolving deltas: 100% (6105/6105), done.
Submodule path 'ghidra/ghidra': checked out '7bde3b54b43230601363f89b0214ab4bdba8bf6f'
Submodule path 'third-party/pugixml': checked out '0e3f1699ffab5f820060fe99c61f0f9495c0c5b6'
error: pathspec 'r2-5.0.0' did not match any file(s) known to git.
Already up to date.
Install Done For r2ghidra
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking target system type... x86_64-unknown-linux-gnu
checking for working directories... current
using prefix '/usr/local'
checking for c++ compiler... g++
checking for cpp... cpp
checking for git... /usr/bin/git
checking for pkg-config... /usr/bin/pkg-config
Using PKGCONFIG: /usr/bin/pkg-config
checking pkg-config flags for r_core... yes
checking for r2... /usr/local/bin/r2
checking for bison... /usr/bin/bison
checking for flex... /usr/bin/flex
checking exec r2 -H R2_PREFIX... ok
checking exec r2 -H R2_USER_PLUGINS... ok
checking exec r2 -H R2_LIBR_PLUGINS... ok
creating config.mk
cleaning temporally files... done

Final report:
 - VERSION = 5.0.0
 - R2_PREFIX = /usr/local
 - PREFIX = /usr/local
 - PKGCONFIG = /usr/bin/pkg-config
cp -f ghidra-processors.txt.default ghidra-processors.txt
make -C src
make[1]: Entering directory '/home/xxxx/.local/share/radare2/r2pm/git/r2ghidra/src'
clang++ -fPIC -I../third-party/pugixml/src/ -std=c++11 -I/home/xxxx/.local/share/radare2/prefix/include -DR2GHIDRA_SLEIGHHOME_DEFAULT=\"/home/xxxx/.local/share/radare2/plugins/r2ghidra_sleigh\" -w -fPIC -I../ghidra/ghidra//Ghidra/Features/Decompiler/src/decompile/cpp -I. -I/usr/local/include/libr -I/usr/local/include/libr/sdb -c ArchMap.cpp
clang++ -fPIC -I../third-party/pugixml/src/ -std=c++11 -I/home/xxxx/.local/share/radare2/prefix/include -DR2GHIDRA_SLEIGHHOME_DEFAULT=\"/home/xxxx/.local/share/radare2/plugins/r2ghidra_sleigh\" -w -fPIC -I../ghidra/ghidra//Ghidra/Features/Decompiler/src/decompile/cpp -I. -I/usr/local/include/libr -I/usr/local/include/libr/sdb -c CodeXMLParse.cpp
clang++ -fPIC -I../third-party/pugixml/src/ -std=c++11 -I/home/xxxx/.local/share/radare2/prefix/include -DR2GHIDRA_SLEIGHHOME_DEFAULT=\"/home/xxxx/.local/share/radare2/plugins/r2ghidra_sleigh\" -w -fPIC -I../ghidra/ghidra//Ghidra/Features/Decompiler/src/decompile/cpp -I. -I/usr/local/include/libr -I/usr/local/include/libr/sdb -c R2Architecture.cpp
clang++ -fPIC -I../third-party/pugixml/src/ -std=c++11 -I/home/xxxx/.local/share/radare2/prefix/include -DR2GHIDRA_SLEIGHHOME_DEFAULT=\"/home/xxxx/.local/share/radare2/plugins/r2ghidra_sleigh\" -w -fPIC -I../ghidra/ghidra//Ghidra/Features/Decompiler/src/decompile/cpp -I. -I/usr/local/include/libr -I/usr/local/include/libr/sdb -c R2CommentDatabase.cpp
make[1]: clang++: Command not found
Makefile:73: recipe for target 'R2CommentDatabase.o' failed
make[1]: *** [R2CommentDatabase.o] Error 127
make[1]: *** Waiting for unfinished jobs....
make[1]: clang++: Command not found
Makefile:73: recipe for target 'R2Architecture.o' failed
make[1]: *** [R2Architecture.o] Error 127
make[1]: clang++: Command not found
Makefile:73: recipe for target 'CodeXMLParse.o' failed
make[1]: *** [CodeXMLParse.o] Error 127
make[1]: clang++: Command not found
Makefile:73: recipe for target 'ArchMap.o' failed
make[1]: *** [ArchMap.o] Error 127
make[1]: Leaving directory '/home/xxxx/.local/share/radare2/r2pm/git/r2ghidra/src'
Makefile:5: recipe for target 'all' failed
make: *** [all] Error 2
mkdir -p /home/xxxx/.local/share/radare2/prefix/bin
cp -f src/sleighc /home/xxxx/.local/share/radare2/prefix/bin
cp: cannot stat 'src/sleighc': No such file or directory
Makefile:38: recipe for target 'user-install' failed
make: *** [user-install] Error 1
```

Solution tested log for `ifeq ($(shell uname),FreeBSD)`

```asm
M       src/Makefile
Already on 'master'
Your branch is up to date with 'origin/master'.
Already up to date.
error: pathspec 'r2-5.0.0' did not match any file(s) known to git.
Already up to date.
Install Done For r2ghidra
checking build system type... x86_64-unknown-linux-gnu
checking host system type... x86_64-unknown-linux-gnu
checking target system type... x86_64-unknown-linux-gnu
checking for working directories... current
using prefix '/usr/local'
checking for c++ compiler... g++
checking for cpp... cpp
checking for git... /usr/bin/git
checking for pkg-config... /usr/bin/pkg-config
Using PKGCONFIG: /usr/bin/pkg-config
checking pkg-config flags for r_core... yes
checking for r2... /usr/local/bin/r2
checking for bison... /usr/bin/bison
checking for flex... /usr/bin/flex
checking exec r2 -H R2_PREFIX... ok
checking exec r2 -H R2_USER_PLUGINS... ok
checking exec r2 -H R2_LIBR_PLUGINS... ok
creating config.mk
cleaning temporally files... done

Final report:
 - VERSION = 5.0.0
 - R2_PREFIX = /usr/local
 - PREFIX = /usr/local
 - PKGCONFIG = /usr/bin/pkg-config
make -C src
make[1]: Entering directory '/home/xxxx/.local/share/radare2/r2pm/git/r2ghidra/src'
g++ -fPIC -I../third-party/pugixml/src/ -std=c++11 -I/home/xxxx/.local/share/radare2/prefix/include -DR2GHIDRA_SLEIGHHOME_DEFAULT=\"/home/xxxx/.local/share/radare2/plugins/r2ghidra_sleigh\" -w -fPIC -I../ghidra/ghidra//Ghidra/Features/Decompiler/src/decompile/cpp -I. -I/usr/local/include/libr -I/usr/local/include/libr/sdb -c ArchMap.cpp
g++ -fPIC -I../third-party/pugixml/src/ -std=c++11 -I/home/xxxx/.local/share/radare2/prefix/include -DR2GHIDRA_SLEIGHHOME_DEFAULT=\"/home/xxxx/.local/share/radare2/plugins/r2ghidra_sleigh\" -w -fPIC -I../ghidra/ghidra//Ghidra/Features/Decompiler/src/decompile/cpp -I. -I/usr/local/include/libr -I/usr/local/include/libr/sdb -c CodeXMLParse.cpp
g++ -fPIC -I../third-party/pugixml/src/ -std=c++11 -I/home/xxxx/.local/share/radare2/prefix/include -DR2GHIDRA_SLEIGHHOME_DEFAULT=\"/home/xxxx/.local/share/radare2/plugins/r2ghidra_sleigh\" -w -fPIC -I../ghidra/ghidra//Ghidra/Features/Decompiler/src/decompile/cpp -I. -I/usr/local/include/libr -I/usr/local/include/libr/sdb -c R2Architecture.cpp
  :
```



@unixfreaxjp
